---
import BaseLayout from '../layouts/BaseLayout.astro';
import ToolPageLayout from '../components/tools/ToolPageLayout.astro';
import DomainInput from '../components/tools/DomainInput.astro';
import ActionButtons from '../components/tools/ActionButtons.astro';
import ProgressBar from '../components/tools/ProgressBar.astro';
import ResultsTable from '../components/tools/ResultsTable.astro';
// import FeaturesList from '../components/tools/FeaturesList.astro'; // Unused import

const tableColumns = [
  { key: 'domain', label: 'Domain', sortable: true },
  { key: 'dr', label: 'Domain Rating', sortable: true },
  { key: 'status', label: 'Status', sortable: false }
];

const features = [
  {
    icon: 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z',
    title: 'Bulk DR Checker Analysis',
    description: 'Use our DR checker to analyze up to 100 domains simultaneously for efficient domain rating evaluation and bulk authority assessment',
    iconColor: 'blue'
  },
  {
    icon: 'M13 10V3L4 14h7v7l9-11h-7z',
    title: 'Instant DR Checker Results',
    description: 'Get instant domain rating scores with our DR checker tool, providing real-time authority analysis for effective backlink strategy',
    iconColor: 'green'
  },
  {
    icon: 'M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z',
    title: 'DR Checker Export Features',
    description: 'Export DR checker results to CSV format for comprehensive domain rating analysis and strategic competitor evaluation',
    iconColor: 'purple'
  }
];
---

<BaseLayout title="DR Checker - Free Domain Rating Analysis Tool | BacklinksBuilder">
  <ToolPageLayout 
    title="DR Checker - Domain Rating Analysis Tool"
    description="Use our free DR Checker to analyze domain rating scores and evaluate website authority. This powerful DR checker helps you assess backlink prospects and competitor domains with accurate DR ratings for effective SEO strategy."
    features={features}
  >
    <Fragment slot="tool-content">
      <!-- Quota Display -->
      <div id="quota-display" class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
        <div class="flex items-center justify-between">
          <div>
            <h3 class="text-sm font-medium text-blue-900">DR Checker Quota - Domain Rating Analysis</h3>
            <p id="quota-info" class="text-sm text-blue-700">Loading quota information...</p>
          </div>
          <div id="quota-upgrade" class="hidden">
            <a href="/pricing" class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
              Upgrade Plan
            </a>
          </div>
        </div>
      </div>
      
      <DomainInput 
        id="domains"
        label="Enter Domain"
        placeholder="e.g. example.com"
        maxDomains={100}
      />
      
      <ActionButtons 
        checkButtonText="Check Domain Rating"
        checkButtonId="check-btn"
        clearButtonId="clear-btn"
        showExportButton={false}
      />
      
      <ProgressBar />
    </Fragment>
    
    <Fragment slot="results">
      <ResultsTable 
        title="Check Domain Rating"
        columns={tableColumns}
      />
    </Fragment>
    

  </ToolPageLayout>
</BaseLayout>

<script src="/js/quota-manager.js" is:inline></script>
<script src="/js/dr-checker.js" is:inline></script>

<script is:inline>
  // Initialize quota display when page loads
  document.addEventListener('DOMContentLoaded', function() {
    if (typeof QuotaManager !== 'undefined') {
      const quotaManager = new QuotaManager();
      quotaManager.initPageQuota('dr_check', 'quota-display');
    }
  });
</script>

<style>
  .sort-asc svg {
    transform: rotate(0deg);
  }
  .sort-desc svg {
    transform: rotate(180deg);
  }
</style>